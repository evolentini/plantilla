<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auto Rc: Proyecto Final - Sistemas Operativos de Tiempo Real</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Auto Rc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Proyecto Final - Sistemas Operativos de Tiempo Real </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="genDesc"></a>
Descripción General</h1>
<p>El presente proyecto, se realizo como finalizacion del modulo 4. El mismo consistía en la implementación de un sistema de tiempo real basado en FreeRtos, donde teníamos que aplicar los los conocimientos de este modulo y complementar usando los drivers hechos en los módulos anteriores.</p>
<h1>&ndash; Auto RC &ndash;</h1>
<p>El proyecto se basa en manejar un auto a radio control, por medio de un enlace Bluetooth.</p>
<p>Se utlizaron los siguientes acciones del sistema operativo FreeRtos:</p><ul>
<li>vTaskStartScheduler</li>
<li>xTaskCreate</li>
<li>xEventGroupWaitBits</li>
<li>vTaskSuspend</li>
<li>vTaskResume</li>
</ul>
<h2><a class="anchor" id="Comando"></a>
Comando</h2>
<p>Se utilizo una aplicación disponible en el google play store:</p>
<p><a href="https://play.google.com/store/apps/details?id=com.andico.control.joystick&amp;hl=es_AR">Arduino Joystick Controller </a></p>
<p>La aplicación manda los siguientes comandos cada 50 ms:</p>
<table class="doxtable">
<tr>
<th>Comando </th><th>Descripción  </th></tr>
<tr>
<td>1 </td><td>Modo </td></tr>
<tr>
<td>2 </td><td>Velocidad </td></tr>
<tr>
<td>3 </td><td>Angulo </td></tr>
<tr>
<td>4 </td><td>Accesorios </td></tr>
</table>
<h2><a class="anchor" id="Auto"></a>
Auto</h2>
<h3>Hardware utilizado:</h3>
<ul>
<li>Ciaa nxp</li>
<li>Puente H pasado en L298n</li>
<li>Pack de baterías 18650 ( 12v -2200mha)</li>
<li>Servo MG996</li>
<li>HC-05 (bluetooth)</li>
<li>Chasis de camioneta 4x4 con motor de 12v para la tracción</li>
</ul>
<h3>Software:</h3>
<p>La aplicación espera los datos mandados desde el Comando, estos son adquiridos por el modulo HC-05, el cual los trasfiere a las Ciaa mediante el puerto uart a 9600 baudios La Ciaa guarda los comandos mediante la tarea de recepcion hasta que adquiere los 4 bloques de datos. Después se analizan y verifican los mismos para proceder a realizar la acción correspondiente o en caso contrario se descartan. Las acciones son:</p><ul>
<li>Cambio de sentido de la traccion, segun el comando 1. esto se realiza cambiando los Gpios que se conectan con el modulo L298n</li>
<li>Cambio de velocidad, para esto modificamos el ducty del pwm 1, basandonos en el valor del comando 2</li>
<li>Cambio direccion, mediante la lectura del comando 3 se modifica el ducty del pwm 2</li>
<li>Bocina, se conecto a la segunda salida del L298n, y es accionada mediante el cambio de los un puerto Gpio</li>
</ul>
<p>Para el desarrollo se utilizaron 2 tareas:</p><ul>
<li>Recepción de datos, la cual adquiere los datos mediante la UART y los almacena en una cola.</li>
<li>Decodificación es quien verifica dichos datos para tomar la acción correspondiente a los mismos, a su vez realiza un control de los tiempos de trasmisión, ya que si se pierde la conexión con el comando este debe frenar el auto para que no colisione contra algún objeto.</li>
</ul>
<div class="image">
<img src="Diagrama.png" alt="Diagrama.png" width="1024px"/>
<div class="caption">
Diagrama de secuencia</div></div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
